<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AvalKural</title>

<style>
/* =====================================================
   MODERN AVALKURAL WEB UI
   BLUE NEON + LAVENDER THEME
   ===================================================== */

:root{
 --bg:#050814;
 --card:#0c1222;
 --panel:#080d1b;

 --blue:#3ea6ff;
 --vio:#8c6bff;
 --lav:#c7a8ff;

 --text:#e7ecff;
 --dim:#8a90aa;
}

body{
 margin:0;
 background:var(--bg);
 color:var(--text);
 font-family:Segoe UI;
}

/* ---------- HERO TOP ---------- */

.top{
 display:flex;
 gap:20px;
 padding:20px;
 align-items:center;
}

/* author pic */

.author{
 width:110px;
 height:110px;
 border-radius:50%;
 border:3px solid var(--blue);
 box-shadow:0 0 20px var(--blue);
}

.brand{
 font-size:38px;
 font-weight:bold;

 background:
 linear-gradient(90deg,
 var(--blue),var(--lav));

 -webkit-background-clip:text;
 color:transparent;
}

/* ---------- GRID PLAYLIST ---------- */

.grid{
 display:grid;
 grid-template-columns:
 repeat(auto-fill,minmax(200px,1fr));

 gap:16px;
 padding:20px;
}

.card{
 background:var(--card);
 border-radius:18px;
 border:1px solid #131c34;
 transition:.25s;
}

/* neon hover */
.card:hover{
 box-shadow:0 0 22px var(--vio);
 transform:translateY(-4px);
}

.cover{
 width:100%;
 height:150px;
 object-fit:cover;
 border-radius:18px 18px 0 0;
}

.info{
 padding:10px;
}

.title{
 font-size:15px;
}

/* ---------- PLAYER BAR ---------- */

.bar{
 position:fixed;
 bottom:0;
 width:100%;
 background:var(--panel);
 border-top:1px solid #131c34;
}

.inner{
 max-width:1100px;
 margin:auto;
 padding:10px;

 display:flex;
 gap:20px;
 align-items:center;
}

.nowimg{
 width:56px;
 height:56px;
 border-radius:10px;
}

.ctrl button{
 background:#0b1121;
 border:1px solid #1b2543;
 color:white;
 padding:8px 12px;
 border-radius:10px;
}

/* glow button */
.ctrl button:active{
 box-shadow:0 0 14px var(--blue);
}

/* progress */

#prog{
 flex:1;
}

/* ---------- DESCRIPTION ---------- */

.pop{
 display:none;

 position:fixed;
 top:20%;
 left:20%;
 width:60%;

 background:#090f20;
 border:1px solid #1b2543;
 border-radius:18px;
 padding:20px;

 box-shadow:0 0 30px var(--vio);
}

/* ---------- BG NEON ---------- */

body:before{
 content:"";
 position:fixed;
 inset:0;

 background:
 radial-gradient(
 circle at top,
 rgba(60,120,255,.18),
 transparent 60%);

 pointer-events:none;
}

/* ---------- MOBILE ---------- */

@media(max-width:700px){

 .top{flex-direction:column;}

 .pop{width:90%;left:5%;}
}

</style>
</head>

<body>

<!-- ========== HERO ========== -->

<div class="top">

 <img src="author.jpg" class="author">

 <div>
  <div class="brand">AVAL KURAL</div>
  <div style="color:var(--dim)">
   A tribute to Riya’s voice
  </div>
 </div>

</div>

<!-- ========== PLAYLIST GRID ========== -->

<div id="grid" class="grid"></div>

<!-- ========== PLAYER BAR ========== -->

<div class="bar">

 <div class="inner">

  <img id="nowimg" class="nowimg">

  <div id="now">Select Song</div>

  <input id="prog" type="range" value="0">

  <div class="ctrl">
   <button onclick="prev()">⏮</button>
   <button onclick="pp()">▶/⏸</button>
   <button onclick="next()">⏭</button>
   <a id="down" download>⬇</a>
  </div>

  <div id="time">0:00 / 0:00</div>

 </div>

</div>

<!-- description -->
<div id="pop" class="pop"></div>

<audio id="audio"></audio>

<script>
/* =====================================================
   AVALKURAL LOGIC
   ===================================================== */

let songs=[];
let cur=0;
let A=id("audio");

/* ---- load playlist ---- */

fetch("playlist.json")
.then(r=>r.json())
.then(d=>{
 songs=d;
 render();
});

function id(x){return document.getElementById(x);}

/* ---- render cards ---- */

function render(){

 let g=id("grid");
 g.innerHTML="";

 songs.forEach((s,i)=>{

  let c=document.createElement("div");
  c.className="card";

  c.innerHTML=`
   <img src="${s.img}" class="cover">
   <div class="info">
    <div class="title">${s.name}</div>
   </div>`;

  c.onclick=()=>open(i);

  // long press description
  let t;
  c.onmousedown=()=>
    t=setTimeout(()=>show(s),700);

  c.onmouseup=()=>clearTimeout(t);

  g.appendChild(c);
 });
}

/* ---- open song ---- */

function open(i){

 cur=i;

 A.src=songs[i].file;

 id("now").innerHTML=songs[i].name;

 id("nowimg").src=songs[i].img;

 id("down").href=songs[i].file;

 A.play();
}

/* ---- play pause ---- */

function pp(){
 A.paused?A.play():A.pause();
}

function next(){
 open((cur+1)%songs.length);
}

function prev(){
 open((cur-1+songs.length)%songs.length);
}

/* ---- progress ---- */

A.ontimeupdate=()=>{

 id("prog").value=
 (A.currentTime/A.duration)*100;

 id("time").innerHTML=
  sec(A.currentTime)+
  " / "+
  sec(A.duration);
};

id("prog").oninput=()=>{
 A.currentTime=
 (id("prog").value/100)*A.duration;
};

function sec(s){
 s=parseInt(s||0);
 return Math.floor(s/60)+":"+
 (s%60).toString().padStart(2,"0");
}

/* ---- description ---- */

function show(s){

 id("pop").style.display="block";

 id("pop").innerHTML=`

 <h3>${s.name}</h3>

 <img src="${s.img}"
 style="width:120px;border-radius:10px">

 <p>${s.description}</p>

 <small>tap outside to close</small>
 `;
}

onclick=e=>{
 if(e.target.id!="pop")
  id("pop").style.display="none";
};

</script>

</body>
</html>
